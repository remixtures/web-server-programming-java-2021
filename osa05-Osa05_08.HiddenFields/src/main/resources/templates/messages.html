<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.springframework.org/security/tags">
    <head lang="en">
        <meta charset="UTF-8" />
        <title>Messages</title>
    </head>
    <body>

        <h2>Messages --- <span sec:authentication="name">Username</span></h2>

        <div>
            <form method="post" action="#" th:action="@{/logout}"><input type="submit" name="logout" value="Logout"/></form>
        </div>

        <ol>
            <li th:each="message : ${messages}">
                <span th:text="${message.content}">msg</span>
            </li>
        </ol>
        <div sec:authorize="hasAuthority('POSTER')">
            <form method="POST" th:action="@{/messages}" action="/messages">
                <input type="text" name="content"/>
                <input type="submit" value="Pow!"/>
            </form>
        </div>    
    </body>
</html>
